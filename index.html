<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<style type="text/css">
			.main {
				margin: auto;
				max-width: 720px;
			}
			h1 {
				margin: auto;
				color: #37a233;
				text-align: center;
				font-size: 90px;
			}
			p {
				color: #999999;
				text-align: center;
			}

		</style>
	</head>
	<body onload="initWork()" >
<a href="https://github.com/xsoh/Hijri.js"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
		<div id="main" class="main">
			<h1>Hijri.js</h1>
			<p>
				A simple implementation for the Islamic calender(Hijri).
			</p>
			<div>
				<span>Today is: </span>
				<span id="today"></span>
			</div>
			<div>
				<input id="gregorianInput" onchange="convertToHijri()" />
				&nbsp; <span id="hijriDate"></span>
			</div>
			<div>
				<input id="hijriInput" onchange="convertToGregorian()" />
				&nbsp; <span id="gregorianDate"></span>
			</div>
			<div>
				<h3>The Problem</h3>
				<p>
					I made this project just because I did not found any correct and opensource Hijri converter. 
					Each time I try one its either sotred in database and fetch the data each time or it does not give me the correct date <b>"spcially when I try before 1420H"</b>
				</p>				
			</div>
			<br />
			<br />
			<div>
				<img src="imgs/4-jamad1-1385H.png" width="60%" height="60%" style="border: 2px solid rgb(204, 204, 204); border-radius: 2px 2px 2px 2px;"/>
				<br />
				<input id="ex1Input" onchange="ex1()" />
				&nbsp; <span id="ex1Output"></span>
			</div>
			<br />
			<br />
			<div>
				<img src="imgs/28-Shaban-1410.png" width="60%" height="60%" style="border: 2px solid rgb(204, 204, 204); border-radius: 2px 2px 2px 2px;"/>
				<br />
				<input id="ex2Input" onchange="ex2()" />
				&nbsp; <span id="ex2Output"></span>
			</div>
		</div>
		<script type="text/javascript">
			function initWork() {
	
				//Today
				var todayElement = document.getElementById("today");
				todayElement.innerHTML = HijriJS.today().toString();

				//gregorianInput
				var gregorianDate = document.getElementById("gregorianInput");
				var today = new Date();
				gregorianDate.value = today.getDate() + "/" + (today.getMonth() +1) + "/" + today.getFullYear();
				
				//hijriInput
				document.getElementById("hijriInput").value = convertToHijri();
				convertToGregorian();
				
				//ex1
				document.getElementById("ex1Input").value = "31/8/1965";
				ex1();
				
				//ex2
				document.getElementById("ex2Input").value = "28/8/1410";
				ex2();
			}

			function convertToHijri() {

				var gregorianDate = document.getElementById("gregorianInput").value
				var hijriDate = document.getElementById("hijriDate");
				var date = HijriJS.toHijri(gregorianDate, "/");
				hijriDate.innerHTML = date.toString();
				return date.toFormat("dd/mm/yyyy");
			}

			function convertToGregorian() {

				var hijriDate = document.getElementById("hijriInput").value;
				var gregorianDate = document.getElementById("gregorianDate");
				var date = HijriJS.toGregorian(hijriDate, "/");
				gregorianDate.innerHTML = date.getDate() + "/" + (date.getMonth()) + "/" + date.getFullYear();
			}
			
			function ex1()
			{
				var gregorianDate = document.getElementById("ex1Input").value.split("/");
				var hijriDate = document.getElementById("ex1Output");
				var date = HijriJS.gregorianToHijri(gregorianDate[2], gregorianDate[1], gregorianDate[0]);
				hijriDate.innerHTML = date.toString();
				return date.toFormat("dd/mm/yyyy");
			}
			
			function ex2()
			{
				var hijriDate = document.getElementById("ex2Input").value.split("/");
				var gregorianDate = document.getElementById("ex2Output");
				var date = HijriJS.hijriToGregorian(hijriDate[2], hijriDate[1], hijriDate[0]);
				gregorianDate.innerHTML = date.getDate() + "/" + (date.getMonth()) + "/" + date.getFullYear();
			}

		</script>
		<script type="text/javascript" src="Hijri.js"></script>
	</body>
</html>
